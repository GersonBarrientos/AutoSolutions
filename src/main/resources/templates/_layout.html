<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">

<!-- Fragmento de <head>: úsalo con ~{_layout :: head(~{::title})} -->
<head th:fragment="head(pageTitle)">
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title th:replace="${pageTitle}">AutoSolutions</title>

  <!-- Fuentes / CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <link th:href="@{/css/app.css}" rel="stylesheet"/>
  <link rel="icon" type="image/svg+xml" th:href="@{/images/logo.svg}">
  <meta name="theme-color" content="#2563eb">
</head>

<!-- Fragmento de layout: inyecta navbar + slot de contenido -->
<body th:fragment="layout(pageTitle, pageContent)"
      class="d-flex flex-column min-vh-100 bg-light"
      style="font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans';">

  <!-- ⚠️ El fragmento navbar recibe (appName, profile) -->
  <header th:replace="~{fragments/navbar :: navbar(${appName}, ${profile})}"></header>

  <main class="main-container flex-grow-1">
    <div class="container-fluid px-3 px-lg-4">
      <div th:replace="${pageContent}">
        <div class="text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Cargando...</span>
          </div>
          <p class="text-muted mt-3">Cargando contenido...</p>
        </div>
      </div>
    </div>
  </main>




  <footer class="footer-modern text-center mt-auto bg-white border-top">
    <div class="container py-4">
      <div class="row align-items-center">
        <div class="col-12 col-md-6 text-md-start mb-3 mb-md-0">
          <div class="d-flex align-items-center justify-content-center justify-content-md-start">
            <img th:src="@{/images/logonaranja.png}"alt="Logo" width="30" height="30" class="me-2">

         
            <div>
              <strong class="text-dark">AutoSolutions</strong><br>
              <small class="text-muted">© <span th:text="${#dates.year(#dates.createNow())}">2025</span> · Todos los derechos reservados</small>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-6 text-md-end">
          <a href="tel:+50312345678" class="text-decoration-none text-muted me-3 hover-primary">
            <i class="bi bi-telephone-fill me-1"></i> +503 1234-5678
          </a>
          <a href="mailto:info@autosolutions.com" class="text-decoration-none text-muted me-3 hover-primary">
            <i class="bi bi-envelope-fill me-1"></i> Contacto
          </a>
          <a href="#" onclick="alert('Ayuda en desarrollo'); return false;" class="text-decoration-none text-muted hover-primary">
            <i class="bi bi-question-circle-fill me-1"></i> Ayuda
          </a>
        </div>
      </div>
      <hr class="my-3 border-secondary opacity-25">
      <small class="text-muted">
        <i class="bi bi-code-slash me-1"></i> Desarrollado con Spring Boot + Thymeleaf + Bootstrap
      </small>
    </div>
  </footer>




  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

  <!-- UX: autocerrar alertas no permanentes -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const alerts = document.querySelectorAll('.alert:not(.alert-permanent)');
      alerts.forEach(function (alert) {
        setTimeout(function () {
          try { bootstrap.Alert.getOrCreateInstance(alert).close(); } catch {}
        }, 5000);
      });
    });
  </script>
</body>
</html>
